<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasteur's Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-slate-900 text-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Icons Defined Locally for Stability ---
        const Flame = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.2-2.2.5-3.3a9 9 0 0 0 2.5 2.8z"/></svg>
        );
        const FlaskConical = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2"/><path d="M8.5 2h7"/><path d="M7 16h10"/></svg>
        );
        const Scissors = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="6" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><line x1="20" x2="8.12" y1="4" y2="15.88"/><line x1="14.47" x2="20" y1="14.48" y2="20"/><line x1="8.12" x2="12" y1="8.12" y2="12"/></svg>
        );
        const Clock = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        );
        const RotateCcw = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
        );
        const Info = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );
        const Wind = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>
        );
        const RefreshCw = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
        );

        const PasteurLab = () => {
          // --- State ---
          const [step, setStep] = useState(0); // 0: Start, 1: Boiled, 2: Waited, 3: Reboiled, 4: Rewaited
          const [neckState, setNeckState] = useState('swan'); // 'swan' | 'broken'
          const [liquidState, setLiquidState] = useState('fresh'); // 'fresh' | 'sterile' | 'contaminated'
          const [temperature, setTemperature] = useState(20); // 20 to 100
          const [isBoiling, setIsBoiling] = useState(false);
          const [showParticles, setShowParticles] = useState(true);
          const [message, setMessage] = useState("Ready. The broth is fresh and contains microscopic life.");
          const [showTutorial, setShowTutorial] = useState(true);

          // --- Logic ---

          const boilBroth = () => {
            setIsBoiling(true);
            setTemperature(100);
            setMessage("Boiling... Heat kills existing microorganisms.");
            
            setTimeout(() => {
              setIsBoiling(false);
              setTemperature(20);
              setLiquidState('sterile');
              setStep(1);
              setMessage("Broth is now sterile. No living organisms remain.");
            }, 3000);
          };

          const breakNeck = () => {
            setNeckState('broken');
            setMessage("Neck broken! The gravity trap is gone. Air can fall directly in.");
          };

          const waitAndObserve = () => {
            setStep(2);
            setMessage("Waiting... observing for bacterial growth.");
            
            setTimeout(() => {
              if (neckState === 'broken') {
                setLiquidState('contaminated');
                setMessage("Contaminated! Bacteria from dust settled into the nutrient broth.");
              } else if (liquidState === 'fresh') {
                setLiquidState('contaminated');
                setMessage("Contaminated! You didn't boil the broth first, so it was already full of life.");
              } else {
                // Sterile and Swan neck
                setMessage("Still Sterile! The curve trapped the dust/bacteria. The broth remains clear.");
              }
            }, 2000);
          };

          const reboilBroth = () => {
            setIsBoiling(true);
            setTemperature(100);
            setMessage("Re-boiling... Killing the new bacterial growth.");

            setTimeout(() => {
              setIsBoiling(false);
              setTemperature(20);
              setLiquidState('sterile');
              setStep(3);
              setMessage("Broth is sterile again. But the neck is still broken...");
            }, 3000);
          };

          const waitAgain = () => {
            setStep(4);
            setMessage("Waiting again... watching the open flask.");

            setTimeout(() => {
              setLiquidState('contaminated');
              setMessage("Contaminated again! With the neck broken, sterilization is only temporary.");
            }, 2000);
          };

          const resetLab = () => {
            setStep(0);
            setNeckState('swan');
            setLiquidState('fresh');
            setTemperature(20);
            setIsBoiling(false);
            setMessage("Lab reset. Ready for experimentation.");
          };

          // --- Visual Helpers ---

          const getLiquidColor = () => {
            if (liquidState === 'fresh') return '#fbbf24'; // Amber-400
            if (liquidState === 'sterile') return '#fcd34d'; // Amber-300 (Clearer)
            if (liquidState === 'contaminated') return '#3f6212'; // Green-900 (Gross)
            return '#fbbf24';
          };

          const getLiquidOpacity = () => {
            if (liquidState === 'sterile') return 0.6; // Clear
            if (liquidState === 'contaminated') return 0.95; // Murky
            return 0.8;
          };

          return (
            <div className="min-h-screen bg-slate-900 text-slate-100 font-sans selection:bg-blue-500 selection:text-white flex flex-col overflow-hidden">
              
              {/* Header */}
              <header className="px-6 py-4 border-b border-slate-800 bg-slate-950/50 backdrop-blur-md flex justify-between items-center z-10">
                <div className="flex items-center gap-3">
                  <div className="p-2 bg-blue-600 rounded-lg shadow-[0_0_15px_rgba(37,99,235,0.5)]">
                    <FlaskConical className="w-6 h-6 text-white" />
                  </div>
                  <div>
                    <h1 className="text-xl font-bold bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent">
                      Pasteur's Lab
                    </h1>
                    <p className="text-xs text-slate-400">Refuting Spontaneous Generation (1859)</p>
                  </div>
                </div>
                <button 
                  onClick={() => setShowTutorial(!showTutorial)}
                  className="p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-400 hover:text-blue-400"
                >
                  <Info className="w-5 h-5" />
                </button>
              </header>

              {/* Main Lab Bench */}
              <main className="flex-grow relative flex flex-col md:flex-row">
                
                {/* Left: Simulation Canvas */}
                <div className="flex-grow relative bg-slate-900 flex justify-center items-end pb-12 overflow-hidden select-none">
                  
                  {/* Background Decor */}
                  <div className="absolute inset-0 bg-[radial-gradient(circle_at_50%_100%,rgba(30,41,59,1),rgba(15,23,42,1))]"></div>
                  <div className="absolute top-10 left-10 opacity-10">
                    <Wind className="w-24 h-24 text-slate-400" />
                  </div>

                  {/* Status Overlay */}
                  <div className="absolute top-6 left-1/2 -translate-x-1/2 w-11/12 md:w-auto md:min-w-[400px] text-center">
                    <div className={`
                      px-6 py-3 rounded-full backdrop-blur-md border shadow-lg transition-all duration-500
                      ${liquidState === 'contaminated' ? 'bg-red-950/40 border-red-500/30 text-red-200' : 
                        liquidState === 'sterile' ? 'bg-emerald-950/40 border-emerald-500/30 text-emerald-200' : 
                        'bg-slate-800/60 border-slate-700 text-slate-200'}
                    `}>
                      <span className="flex items-center justify-center gap-2 text-sm font-medium">
                        {isBoiling && <Flame className="w-4 h-4 animate-pulse text-orange-500" />}
                        {message}
                      </span>
                    </div>
                  </div>

                  {/* THE FLASK SVG */}
                  <div className="relative w-[340px] h-[400px] z-10 transition-transform duration-700">
                    <svg viewBox="0 0 340 400" className="w-full h-full drop-shadow-2xl">
                      <defs>
                        <linearGradient id="glassGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                          <stop offset="0%" stopColor="rgba(255,255,255,0.1)" />
                          <stop offset="20%" stopColor="rgba(255,255,255,0.05)" />
                          <stop offset="50%" stopColor="rgba(255,255,255,0)" />
                          <stop offset="80%" stopColor="rgba(255,255,255,0.05)" />
                          <stop offset="100%" stopColor="rgba(255,255,255,0.1)" />
                        </linearGradient>
                        <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
                          <feGaussianBlur stdDeviation="5" result="blur" />
                          <feComposite in="SourceGraphic" in2="blur" operator="over" />
                        </filter>
                        <clipPath id="flaskClip">
                          <circle cx="170" cy="280" r="80" />
                        </clipPath>
                      </defs>

                      {/* Bunsen Burner Flame */}
                      <g transform="translate(170, 370)">
                         {isBoiling && (
                           <>
                            <path d="M-10 0 Q0 -40 10 0" fill="#3b82f6" className="animate-pulse opacity-80" />
                            <path d="M-6 0 Q0 -30 6 0" fill="#60a5fa" className="animate-pulse opacity-90" />
                           </>
                         )}
                         <rect x="-15" y="0" width="30" height="30" rx="2" fill="#475569" />
                         <rect x="-25" y="25" width="50" height="5" fill="#334155" />
                      </g>

                      {/* Particles/Dust/Bacteria Visualization */}
                      {showParticles && (
                        <g className="opacity-60">
                           {/* If Neck is Swan: Particles get trapped in the U-bend */}
                           {neckState === 'swan' ? (
                             <>
                                <circle r="2" fill="#94a3b8">
                                  <animateMotion dur="4s" repeatCount="indefinite" path="M290,40 L290,100 Q290,160 230,160 Q170,160 170,220" />
                                  <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite" />
                                </circle>
                                <circle r="1.5" fill="#cbd5e1">
                                  <animateMotion dur="5s" begin="1s" repeatCount="indefinite" path="M280,40 L280,100 Q280,150 220,150 Q180,150 175,200" />
                                  <animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" />
                                </circle>
                                 {/* Trapped particles resting in the curve */}
                                <circle cx="230" cy="158" r="2" fill="#64748b" opacity="0.5" />
                                <circle cx="235" cy="159" r="1.5" fill="#64748b" opacity="0.5" />
                                <circle cx="225" cy="157" r="2" fill="#64748b" opacity="0.5" />
                             </>
                           ) : (
                             /* If Neck is Broken: Particles fall straight in */
                             <>
                                <circle r="2" fill="#a3e635">
                                   <animateMotion dur="2s" repeatCount="indefinite" path="M170,120 L170,260" />
                                   <animate attributeName="opacity" values="0;1;0" dur="2s" repeatCount="indefinite" />
                                </circle>
                                <circle r="2.5" fill="#4ade80">
                                   <animateMotion dur="2.5s" begin="0.5s" repeatCount="indefinite" path="M160,120 L165,270" />
                                   <animate attributeName="opacity" values="0;1;0" dur="2.5s" repeatCount="indefinite" />
                                </circle>
                                <circle r="1.5" fill="#84cc16">
                                   <animateMotion dur="1.8s" begin="1.2s" repeatCount="indefinite" path="M180,120 L175,250" />
                                   <animate attributeName="opacity" values="0;1;0" dur="1.8s" repeatCount="indefinite" />
                                </circle>
                             </>
                           )}
                        </g>
                      )}

                      {/* The Flask Glass Body */}
                      <circle cx="170" cy="280" r="80" fill="url(#glassGradient)" stroke="rgba(255,255,255,0.4)" strokeWidth="2" />
                      
                      {/* The Liquid */}
                      <g clipPath="url(#flaskClip)">
                        <rect 
                          x="50" 
                          y={isBoiling ? 210 : 220} 
                          width="240" 
                          height="160" 
                          fill={getLiquidColor()} 
                          opacity={getLiquidOpacity()}
                          className="transition-all duration-1000 ease-in-out"
                        >
                          {isBoiling && (
                             <animate attributeName="y" values="215;210;215" dur="0.5s" repeatCount="indefinite" />
                          )}
                        </rect>
                        
                        {/* Bubbles when Boiling */}
                        {isBoiling && (
                          <g>
                            <circle cx="150" cy="260" r="3" fill="rgba(255,255,255,0.5)">
                              <animate attributeName="cy" from="280" to="220" dur="0.6s" repeatCount="indefinite" />
                              <animate attributeName="opacity" values="0;1;0" dur="0.6s" repeatCount="indefinite" />
                            </circle>
                            <circle cx="170" cy="260" r="5" fill="rgba(255,255,255,0.5)">
                              <animate attributeName="cy" from="280" to="220" dur="0.8s" begin="0.1s" repeatCount="indefinite" />
                              <animate attributeName="opacity" values="0;1;0" dur="0.8s" repeatCount="indefinite" />
                            </circle>
                            <circle cx="190" cy="260" r="2" fill="rgba(255,255,255,0.5)">
                              <animate attributeName="cy" from="280" to="220" dur="0.5s" begin="0.3s" repeatCount="indefinite" />
                              <animate attributeName="opacity" values="0;1;0" dur="0.5s" repeatCount="indefinite" />
                            </circle>
                          </g>
                        )}
                      </g>

                      {/* Reflection on Glass */}
                      <path d="M120 250 Q130 220 170 220" fill="none" stroke="rgba(255,255,255,0.3)" strokeWidth="3" strokeLinecap="round" />

                      {/* Broken Neck Stump */}
                      <path d="M170 200 L170 150" fill="none" stroke="rgba(255,255,255,0.4)" strokeWidth="8" />
                      <path d="M166 150 L174 150 L170 145 Z" fill="rgba(255,255,255,0.4)" />

                      {/* Swan Neck Part (Conditional) */}
                      <g className={`transition-all duration-700 origin-bottom-left ${neckState === 'broken' ? 'opacity-0 translate-y-10 rotate-12 pointer-events-none' : 'opacity-100'}`}>
                        {/* The "S" Curve: Starts at top of flask (170, 150), goes up, curves right and down, then up again */}
                        <path 
                          d="M170 150 L170 100 Q170 40 230 40 Q290 40 290 100" 
                          fill="none" 
                          stroke="rgba(255,255,255,0.4)" 
                          strokeWidth="8" 
                          strokeLinecap="round" 
                        />
                        {/* Inner tube look */}
                        <path 
                          d="M170 150 L170 100 Q170 40 230 40 Q290 40 290 100" 
                          fill="none" 
                          stroke="rgba(255,255,255,0.1)" 
                          strokeWidth="4" 
                          strokeLinecap="round" 
                        />
                      </g>

                      {/* Steam when boiling (Comes out of end) */}
                      {isBoiling && (
                        <g className="opacity-50">
                            <path d={neckState === 'swan' ? "M290 100 Q300 80 310 90" : "M170 150 Q180 130 160 120"} 
                                  stroke="white" strokeWidth="2" fill="none" strokeDasharray="5,5">
                              <animate attributeName="stroke-dashoffset" from="10" to="0" dur="1s" repeatCount="indefinite" />
                              <animate attributeName="opacity" values="0;1;0" dur="1.5s" repeatCount="indefinite" />
                            </path>
                        </g>
                      )}

                    </svg>
                  </div>
                </div>

                {/* Right: Controls Panel */}
                <div className="w-full md:w-80 bg-white dark:bg-slate-900 border-l border-slate-800 p-6 flex flex-col gap-6 z-20 shadow-2xl overflow-y-auto">
                  
                  <div className="space-y-4">
                    <h3 className="text-sm font-bold uppercase tracking-widest text-slate-500">Experiment Controls</h3>
                    
                    {/* Step 1: Boil */}
                    <button
                      onClick={boilBroth}
                      disabled={isBoiling || liquidState === 'contaminated' || step >= 1}
                      className={`w-full group relative overflow-hidden p-4 rounded-xl border-2 text-left transition-all duration-300
                        ${step >= 1
                          ? 'border-emerald-500/50 bg-emerald-500/10 text-emerald-400 opacity-60' 
                          : 'border-slate-700 bg-slate-800 hover:border-blue-500 hover:bg-slate-750 text-slate-300'}
                      `}
                    >
                      <div className="flex items-center justify-between relative z-10">
                        <span className="font-bold flex items-center gap-2">
                          <Flame className={`w-5 h-5 ${isBoiling && step === 0 ? 'text-orange-500 animate-bounce' : ''}`} /> 
                          1. Boil Broth
                        </span>
                        {step >= 1 && <span className="text-xs font-bold px-2 py-1 bg-emerald-500/20 rounded">DONE</span>}
                      </div>
                      <p className="text-xs text-slate-500 mt-2">Sterilizes the liquid by killing existing microbes.</p>
                      {isBoiling && step === 0 && <div className="absolute bottom-0 left-0 h-1 bg-orange-500 animate-[width_3s_ease-in-out_forwards]" style={{width: '100%'}}></div>}
                    </button>

                    {/* Step 2: Break Neck */}
                    <button
                      onClick={breakNeck}
                      disabled={neckState === 'broken'}
                      className={`w-full p-4 rounded-xl border-2 text-left transition-all duration-300
                        ${neckState === 'broken' 
                          ? 'border-red-500/50 bg-red-500/10 text-red-400 opacity-60' 
                          : 'border-slate-700 bg-slate-800 hover:border-blue-500 hover:bg-slate-750 text-slate-300'}
                      `}
                    >
                      <div className="flex items-center justify-between">
                        <span className="font-bold flex items-center gap-2">
                          <Scissors className="w-5 h-5" /> 
                          2. Break Neck
                        </span>
                        {neckState === 'broken' && <span className="text-xs font-bold px-2 py-1 bg-red-500/20 rounded">BROKEN</span>}
                      </div>
                      <p className="text-xs text-slate-500 mt-2">Removes the "gravity trap," allowing air to fall in directly.</p>
                    </button>

                    {/* Step 3: Wait */}
                    <button
                      onClick={waitAndObserve}
                      disabled={isBoiling || step === 2 || liquidState === 'contaminated'}
                      className={`w-full p-4 rounded-xl border-2 text-left transition-all duration-300
                        ${step === 2 
                            ? 'border-emerald-500/50 bg-emerald-500/10 text-emerald-400 opacity-60' 
                            : 'border-slate-700 bg-slate-800 hover:border-purple-500 hover:bg-slate-750 text-slate-300'}
                        `}
                    >
                      <div className="flex items-center justify-between">
                        <span className="font-bold flex items-center gap-2">
                          <Clock className="w-5 h-5" /> 
                          3. Wait & Observe
                        </span>
                        {step === 2 && <span className="text-xs font-bold px-2 py-1 bg-emerald-500/20 rounded">DONE</span>}
                      </div>
                      <p className="text-xs text-slate-500 mt-2">Simulate the passing of days/weeks.</p>
                    </button>

                    {/* Step 4: Re-Boil */}
                    <button
                      onClick={reboilBroth}
                      disabled={isBoiling || liquidState !== 'contaminated' || neckState !== 'broken'}
                      className={`w-full group relative overflow-hidden p-4 rounded-xl border-2 text-left transition-all duration-300
                        ${step === 3
                          ? 'border-emerald-500/50 bg-emerald-500/10 text-emerald-400' 
                          : (liquidState === 'contaminated' && neckState === 'broken' 
                                ? 'border-orange-500/50 bg-orange-950/20 text-orange-200 hover:border-orange-400'
                                : 'border-slate-800 bg-slate-900/50 text-slate-600 cursor-not-allowed')}
                      `}
                    >
                      <div className="flex items-center justify-between relative z-10">
                        <span className="font-bold flex items-center gap-2">
                          <RefreshCw className={`w-5 h-5 ${isBoiling && step > 0 ? 'animate-spin' : ''}`} /> 
                          4. Boil Again
                        </span>
                        {step === 3 && <span className="text-xs font-bold px-2 py-1 bg-emerald-500/20 rounded">DONE</span>}
                      </div>
                      <p className="text-xs text-slate-500 mt-2">Attempt to sterilize the contaminated broth again.</p>
                      {isBoiling && step > 0 && <div className="absolute bottom-0 left-0 h-1 bg-orange-500 animate-[width_3s_ease-in-out_forwards]" style={{width: '100%'}}></div>}
                    </button>

                    {/* Step 5: Wait Again */}
                    <button
                      onClick={waitAgain}
                      disabled={isBoiling || step !== 3}
                      className={`w-full p-4 rounded-xl border-2 text-left transition-all duration-300
                        ${step === 4
                            ? 'border-red-500/50 bg-red-500/10 text-red-400' 
                            : (step === 3
                                ? 'border-purple-500/50 bg-purple-950/20 text-purple-200 hover:border-purple-400'
                                : 'border-slate-800 bg-slate-900/50 text-slate-600 cursor-not-allowed')}
                        `}
                    >
                      <div className="flex items-center justify-between">
                        <span className="font-bold flex items-center gap-2">
                          <Clock className="w-5 h-5" /> 
                          5. Wait Again
                        </span>
                        {step === 4 && <span className="text-xs font-bold px-2 py-1 bg-red-500/20 rounded">CONTAMINATED</span>}
                      </div>
                      <p className="text-xs text-slate-500 mt-2">Observe what happens with a broken neck.</p>
                    </button>

                  </div>

                  <div className="mt-auto pt-6 border-t border-slate-800">
                    <button
                      onClick={resetLab}
                      className="w-full py-3 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white font-medium flex justify-center items-center gap-2 transition-colors"
                    >
                      <RotateCcw className="w-4 h-4" /> Reset Experiment
                    </button>
                  </div>
                </div>
              </main>

              {/* Tutorial / Context Overlay */}
              {showTutorial && (
                <div className="absolute inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
                  <div className="bg-slate-900 border border-slate-700 rounded-2xl max-w-lg w-full p-8 shadow-2xl relative">
                    <button 
                      onClick={() => setShowTutorial(false)}
                      className="absolute top-4 right-4 text-slate-500 hover:text-white"
                    >
                      Close
                    </button>
                    <h2 className="text-2xl font-bold text-white mb-4">Biogenesis vs. Spontaneous Generation</h2>
                    <div className="space-y-4 text-slate-300 text-sm leading-relaxed">
                      <p>
                        In 1859, <strong>Louis Pasteur</strong> designed this experiment to prove that life comes only from other life (Biogenesis), refuting the idea that life arises spontaneously from non-living matter.
                      </p>
                      <ul className="space-y-2 list-disc pl-5">
                        <li><strong className="text-blue-400">The Swan Neck:</strong> Designed to trap dust and microbes in the curve of the tube due to gravity, preventing them from reaching the broth.</li>
                        <li><strong className="text-orange-400">Boiling:</strong> Necessary to kill any microbes already present in the liquid.</li>
                        <li><strong className="text-red-400">Breaking the Neck:</strong> Removes the filter, allowing dust to fall vertically into the sterile broth, causing contamination.</li>
                      </ul>
                      <div className="mt-6 flex justify-end">
                        <button 
                          onClick={() => setShowTutorial(false)}
                          className="bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg font-bold transition-all"
                        >
                          Start Experiment
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PasteurLab />);
    </script>
</body>
</html>
